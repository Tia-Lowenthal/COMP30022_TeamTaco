{"ast":null,"code":"var _jsxFileName = \"/Users/karinareyes/Documents/UNI/SEM5/IT Project/COMP30022_TeamTaco/src/components/itemsearch.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nconst Item = props => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 5\n  },\n  __self: this\n}, React.createElement(\"h5\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, props.item.title), React.createElement(\"i\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, props.item.category), React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, props.item.description), React.createElement(\"br\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}));\n\nconst CategoryOptionRender = props => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, React.createElement(\"input\", {\n  className: \"form-check-input\",\n  type: \"checkbox\",\n  value: \"\",\n  defaultChecked: true,\n  onClick: props.handleClick,\n  id: props.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}), React.createElement(\"label\", {\n  className: \"form-check-label\",\n  htmlFor: props.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, props.text));\n\nconst PriceOptionRender = props => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}, React.createElement(\"input\", {\n  className: \"form-check-input\",\n  type: \"checkbox\",\n  value: \"\",\n  defaultChecked: true,\n  onClick: props.handleClick,\n  id: props.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25\n  },\n  __self: this\n}), React.createElement(\"label\", {\n  className: \"form-check-label\",\n  htmlFor: props.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26\n  },\n  __self: this\n}, props.id));\n\nexport default class ItemSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearchBar = e => {\n      this.setState({\n        searchQuery: e.target.value.toLowerCase()\n      });\n    };\n\n    this.handleSearchClick = e => {\n      let currentList = this.state.items;\n      let newList = []; // filter by title\n\n      if (this.state.searchQuery !== \"\") {\n        newList = currentList.filter(item => {\n          const lowerTitle = item.title.toLowerCase();\n          return lowerTitle.includes(this.state.searchQuery);\n        });\n      } else {\n        newList = currentList;\n      } //filter by category\n\n\n      newList = newList.filter(item => {\n        if (\"category\" in item) {\n          if (this.categorySearch(item.category)) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        return false;\n      }); //filter by price\n\n      newList = newList.filter(item => this.priceSearch(item));\n      this.setState({\n        filtered: newList\n      });\n    };\n\n    this.checkAll = e => {\n      this.handleAllChecks(true);\n    };\n\n    this.checkNone = e => {\n      this.handleAllChecks(false);\n    };\n\n    this.handleClearClick = e => {\n      this.handleAllChecks(true);\n      this.setState({\n        filtered: this.state.items,\n        searchQuery: ''\n      });\n    };\n\n    this.handleCategoryClick = e => {\n      if (e.target.checked) {\n        this.setState({\n          categoryFilters: this.state.categoryFilters.concat(e.target.id)\n        });\n      } else {\n        this.setState({\n          categoryFilters: this.state.categoryFilters.filter(function (cat) {\n            return cat !== e.target.id;\n          })\n        });\n      }\n    };\n\n    this.handlePriceClick = e => {\n      if (e.target.checked) {\n        this.setState({\n          priceFilters: this.state.priceFilters.concat(e.target.id)\n        });\n      } else {\n        this.setState({\n          priceFilters: this.state.priceFilters.filter(function (price) {\n            return price !== e.target.id;\n          })\n        });\n      }\n    };\n\n    this.categoryChecks = [\"photoCheck\", \"jewelleryCheck\", \"kitchenwareCheck\", \"clothesCheck\", \"collectiblesCheck\", \"artCheck\", \"instrumentCheck\", \"furnitureCheck\", \"weaponsCheck\", \"officialDocsCheck\", \"personalDocsCheck\", \"miscCheck\"];\n    this.priceChecks = [\"$0-100\", \"$101-500\", \"$501-1000\", \"$1000+\"];\n    this.state = {\n      items: [],\n      filtered: [],\n      searchQuery: '',\n      categoryFilters: [...this.categoryChecks],\n      priceFilters: [...this.priceChecks]\n    };\n    this.categoryOptions = [{\n      id: \"photoCheck\",\n      text: \"Photos\"\n    }, {\n      id: \"jewelleryCheck\",\n      text: \"Jewellery\"\n    }, {\n      id: \"kitchenwareCheck\",\n      text: \"Kitchenware\"\n    }, {\n      id: \"clothesCheck\",\n      text: \"Clothes\"\n    }, {\n      id: \"collectiblesCheck\",\n      text: \"Collectibles\"\n    }, {\n      id: \"artCheck\",\n      text: \"Art\"\n    }, {\n      id: \"instrumentCheck\",\n      text: \"Musical Instruments\"\n    }, {\n      id: \"furnitureCheck\",\n      text: \"Furniture\"\n    }, {\n      id: \"weaponsCheck\",\n      text: \"Weapons\"\n    }, {\n      id: \"officialDocsCheck\",\n      text: \"Official Documents\"\n    }, {\n      id: \"personalDocsCheck\",\n      text: \"Personal Documents\"\n    }, {\n      id: \"miscCheck\",\n      text: \"Miscellaneous\"\n    }];\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/items/').then(response => {\n      this.setState({\n        items: response.data,\n        filtered: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  itemList() {\n    return this.state.filtered.map(currentitem => {\n      return React.createElement(Item, {\n        item: currentitem,\n        key: currentitem.itemId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    });\n  } // checks if the inputted category is in the array of active category filters\n\n\n  categorySearch(categoryText) {\n    var i;\n\n    for (i = 0; i < this.categoryOptions.length; i++) {\n      if (this.categoryOptions[i].text.toLowerCase() === categoryText.toLowerCase()) {\n        if (this.state.categoryFilters.includes(this.categoryOptions[i].id)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  priceBracket(price) {\n    if (price <= 100) {\n      return \"$0-100\";\n    } else if (price <= 500) {\n      return \"$101-500\";\n    } else if (price <= 1000) {\n      return \"$501-1000\";\n    } else {\n      return \"$1000+\";\n    }\n  } // finds the price bracket of an item and indicates if it is in an active price filter\n\n\n  priceSearch(item) {\n    if (!(\"estimatedValue\" in item)) {\n      if (\"originalPrice\" in item) {\n        return this.state.priceFilters.includes(this.priceBracket(item.originalPrice));\n      }\n\n      return true;\n    }\n\n    return this.state.priceFilters.includes(this.priceBracket(item.estimatedValue));\n  }\n\n  // sets all checkboxes to either checked or unchecked\n  handleAllChecks(boolArg) {\n    var i, j;\n\n    for (i = 0; i < this.categoryOptions.length; i++) {\n      document.getElementById(this.categoryOptions[i].id).checked = boolArg;\n    }\n\n    for (j = 0; j < this.priceChecks.length; j++) {\n      document.getElementById(this.priceChecks[j]).checked = boolArg;\n    }\n\n    if (boolArg) {\n      this.setState({\n        categoryFilters: [...this.categoryChecks],\n        priceFilters: [...this.priceChecks]\n      });\n    } else {\n      this.setState({\n        categoryFilters: [],\n        priceFilters: []\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Search...\",\n      value: this.state.searchQuery,\n      onChange: this.handleSearchBar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-secondary dropdown-toggle\",\n      type: \"button\",\n      id: \"filters\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Select Filters\"), React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"px-3 py-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, this.categoryOptions.map(currentCategory => {\n      return React.createElement(CategoryOptionRender, {\n        id: currentCategory.id,\n        key: currentCategory.id,\n        text: currentCategory.text,\n        handleClick: this.handleCategoryClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"dropdown-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, this.priceChecks.map(currentPrice => {\n      return React.createElement(PriceOptionRender, {\n        id: currentPrice,\n        key: currentPrice,\n        handleClick: this.handlePriceClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"dropdown-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark btn-sm\",\n      onClick: this.checkAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Check All\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary btn-sm\",\n      onClick: this.checkNone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Check None\")))))), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.handleSearchClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-danger\",\n      onClick: this.handleClearClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Clear\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(3, 1fr)',\n        gridGap: '10px',\n        gridAutoRows: 'minMax(100px, auto)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, this.itemList()));\n  }\n\n}","map":{"version":3,"sources":["/Users/karinareyes/Documents/UNI/SEM5/IT Project/COMP30022_TeamTaco/src/components/itemsearch.component.js"],"names":["React","Component","axios","Item","props","item","title","category","description","CategoryOptionRender","handleClick","id","text","PriceOptionRender","ItemSearch","constructor","handleSearchBar","e","setState","searchQuery","target","value","toLowerCase","handleSearchClick","currentList","state","items","newList","filter","lowerTitle","includes","categorySearch","priceSearch","filtered","checkAll","handleAllChecks","checkNone","handleClearClick","handleCategoryClick","checked","categoryFilters","concat","cat","handlePriceClick","priceFilters","price","categoryChecks","priceChecks","categoryOptions","componentDidMount","get","then","response","data","catch","error","console","log","itemList","map","currentitem","itemId","categoryText","i","length","priceBracket","originalPrice","estimatedValue","boolArg","j","document","getElementById","render","currentCategory","currentPrice","display","gridTemplateColumns","gridGap","gridAutoRows"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst Item = props => (\n    <div>\n        <h5>{props.item.title}</h5>\n        <i>{props.item.category}</i>   \n        <div>{props.item.description}</div>\n        <br/>\n        {/*have to link to item page eventually*/}\n    </div>\n)\n\nconst CategoryOptionRender = props => (\n    <div>\n        <input className=\"form-check-input\" type=\"checkbox\" value=\"\" defaultChecked={true} onClick={props.handleClick} id={props.id}/>\n        <label className=\"form-check-label\" htmlFor={props.id}>\n        {props.text}\n        </label>\n    </div>\n)\n\nconst PriceOptionRender = props => (\n    <div>\n        <input className=\"form-check-input\" type=\"checkbox\" value=\"\" defaultChecked={true} onClick={props.handleClick} id={props.id}/>\n        <label className=\"form-check-label\" htmlFor={props.id}>\n        {props.id}\n        </label>\n    </div>\n)\n\nexport default class ItemSearch extends Component {\n    constructor(props) {\n        super(props);\n        this.categoryChecks = [\n            \"photoCheck\",\n            \"jewelleryCheck\",\n            \"kitchenwareCheck\",\n            \"clothesCheck\",\n            \"collectiblesCheck\",\n            \"artCheck\",\n            \"instrumentCheck\",\n            \"furnitureCheck\",\n            \"weaponsCheck\",\n            \"officialDocsCheck\",\n            \"personalDocsCheck\",\n            \"miscCheck\"];\n        this.priceChecks = [\"$0-100\", \"$101-500\", \"$501-1000\", \"$1000+\"];\n        this.state = {items: [], \n                    filtered: [], \n                    searchQuery:'', \n                    categoryFilters: [...this.categoryChecks],\n                    priceFilters: [...this.priceChecks]};\n        this.categoryOptions = [\n            {id: \"photoCheck\", text: \"Photos\"},\n            {id: \"jewelleryCheck\", text: \"Jewellery\"},\n            {id: \"kitchenwareCheck\", text: \"Kitchenware\"},\n            {id: \"clothesCheck\", text: \"Clothes\"},\n            {id: \"collectiblesCheck\", text: \"Collectibles\"},\n            {id: \"artCheck\", text: \"Art\"},\n            {id: \"instrumentCheck\", text: \"Musical Instruments\"},\n            {id: \"furnitureCheck\", text: \"Furniture\"},\n            {id: \"weaponsCheck\", text: \"Weapons\"},\n            {id: \"officialDocsCheck\", text: \"Official Documents\"},\n            {id: \"personalDocsCheck\", text: \"Personal Documents\"},\n            {id: \"miscCheck\", text: \"Miscellaneous\"}\n        ];\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:5000/items/')\n         .then(response => {\n           this.setState({items: response.data, filtered : response.data});\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n    }\n\n    itemList() {\n        return this.state.filtered.map(currentitem => {\n          return <Item item={currentitem} key={currentitem.itemId}/>;\n        })\n    }\n\n    // checks if the inputted category is in the array of active category filters\n    categorySearch(categoryText) {\n        var i;\n        for (i = 0; i < this.categoryOptions.length; i++){\n            if (this.categoryOptions[i].text.toLowerCase() === categoryText.toLowerCase()){\n                if (this.state.categoryFilters.includes(this.categoryOptions[i].id)){\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    priceBracket(price) {\n        if (price <= 100){\n            return \"$0-100\";\n        } else if (price <= 500) {\n            return \"$101-500\";\n        } else if (price <= 1000) {\n            return \"$501-1000\";\n        } else {\n            return \"$1000+\";\n        }\n    }\n\n    // finds the price bracket of an item and indicates if it is in an active price filter\n    priceSearch(item) {\n        if (!(\"estimatedValue\" in item)){\n            if (\"originalPrice\" in item){\n                return (this.state.priceFilters.includes(this.priceBracket(item.originalPrice)))\n            }\n            return true;\n        }\n        return (this.state.priceFilters.includes(this.priceBracket(item.estimatedValue)));\n    }\n\n    handleSearchBar = (e) => {\n        this.setState({searchQuery: e.target.value.toLowerCase()});\n    }\n\n    // handles clicking of the search button\n    handleSearchClick = (e) => {\n        let currentList = this.state.items;\n        let newList = [];\n        // filter by title\n        if (this.state.searchQuery !== \"\"){\n            newList = currentList.filter(item => {\n                const lowerTitle = item.title.toLowerCase();\n                return (lowerTitle.includes(this.state.searchQuery));\n            });\n        } else{\n            newList = currentList;\n        }\n        //filter by category\n        newList = newList.filter(item => {\n            if (\"category\" in item){\n                if (this.categorySearch(item.category)){\n                    return true;\n                } else{\n                    return false;\n                }\n            }\n            return false;\n        })\n        //filter by price\n        newList = newList.filter(item => this.priceSearch(item));\n        this.setState({filtered: newList});\n    }\n\n    // sets all checkboxes to either checked or unchecked\n    handleAllChecks(boolArg) {\n        var i, j;\n        for (i = 0; i < this.categoryOptions.length; i++){\n            document.getElementById(this.categoryOptions[i].id).checked = boolArg;\n        }\n        for (j = 0; j < this.priceChecks.length; j++){\n            document.getElementById(this.priceChecks[j]).checked = boolArg;\n        }\n        if (boolArg){\n            this.setState({categoryFilters: [...this.categoryChecks], priceFilters: [...this.priceChecks]});\n        } else {\n            this.setState({categoryFilters: [], priceFilters: []});\n        }\n    }\n\n    checkAll = (e) => {\n        this.handleAllChecks(true);\n    }\n\n    checkNone = (e) => {\n        this.handleAllChecks(false);\n    }\n\n    handleClearClick = (e) => {\n        this.handleAllChecks(true);\n        this.setState({filtered: this.state.items, searchQuery: ''});\n    }\n\n    // handles category checkboxes\n    handleCategoryClick = (e) => {\n        if (e.target.checked){\n            this.setState({categoryFilters: this.state.categoryFilters.concat(e.target.id)});\n        } else{\n            this.setState({categoryFilters: this.state.categoryFilters.filter(function(cat) {\n                return cat !== e.target.id;})\n            });\n        }\n    }\n\n    // handles price checkboxes\n    handlePriceClick = (e) => {\n        if (e.target.checked){\n            this.setState({priceFilters: this.state.priceFilters.concat(e.target.id)});\n        } else{\n            this.setState({priceFilters: this.state.priceFilters.filter(function(price) {\n                return price !== e.target.id;})\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"form-group\">\n                    <div className=\"form-row\">\n                        <div className=\"col-8\">\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" value={this.state.searchQuery} onChange={this.handleSearchBar}/>\n                        </div>\n                        <div className=\"col\">\n                            <div className=\"dropdown\">\n                            <button className=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" id=\"filters\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                Select Filters\n                            </button>\n                            <div className=\"dropdown-menu\">\n                                <form className=\"px-3 py-3\">\n                                <div className=\"form-check\">\n                                {this.categoryOptions.map(currentCategory => {\n                                    return <CategoryOptionRender id={currentCategory.id} key={currentCategory.id} text={currentCategory.text} handleClick={this.handleCategoryClick}/>;\n                                })}\n                                </div>\n                                <div className=\"dropdown-divider\"></div>\n                                <div className=\"form-check\">\n                                {this.priceChecks.map(currentPrice => {\n                                    return <PriceOptionRender id={currentPrice} key={currentPrice} handleClick={this.handlePriceClick}/>;\n                                })}\n                                </div>\n                                <div className=\"dropdown-divider\"></div>\n                                <div><button type=\"button\" className=\"btn btn-dark btn-sm\" onClick={this.checkAll}>Check All</button></div>\n                                <div><button type=\"button\" className=\"btn btn-secondary btn-sm\" onClick={this.checkNone}>Check None</button></div>\n                                </form>\n                            </div>\n                            </div>\n                        </div>\n                        <div className=\"col\">\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleSearchClick}>Search</button>\n                        </div>\n                        <div className=\"col\">\n                            <button type=\"button\" className=\"btn btn-outline-danger\" onClick={this.handleClearClick}>Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"container\" style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gridGap: '10px', gridAutoRows: 'minMax(100px, auto)'}}>\n                    {this.itemList()}\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}